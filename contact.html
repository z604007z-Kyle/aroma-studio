<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聯絡靈境 - 開啟您的療癒儀式</title>
    <meta name="description" content="立即預約您的靈境療癒時光。位於台北市松山區，提供預約制專屬諮詢。點擊填寫表單或加入 Line 聯繫芳療師妞妞。">
    <meta name="keywords" content="芳療預約, 聯絡妞妞, 台北按摩預約, 松山區芳療">
    <link rel="icon" href="images/faviconlog.png" type="image/png">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NZSGTP2E2D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NZSGTP2E2D');
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        .contact-wrapper { display: flex; flex-wrap: wrap; gap: 60px; justify-content: center; text-align: left; margin-top: 50px; }
        .contact-info { flex: 1; min-width: 300px; padding: 20px; border-left: 2px solid var(--primary-gold); }
        .contact-info h3 { font-family: 'Cinzel', serif; color: var(--primary-gold); letter-spacing: 2px; margin-bottom: 25px; }
        .contact-form { flex: 1.5; min-width: 300px; background: rgba(255, 255, 255, 0.95); padding: 40px; border: 1px solid rgba(212, 175, 55, 0.3); box-shadow: 0 15px 35px rgba(26, 60, 64, 0.08); position: relative; }
        .contact-form::after { content: '◈'; position: absolute; bottom: 15px; right: 15px; color: var(--primary-gold); opacity: 0.4; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--deep-teal); font-size: 0.9rem; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; border: 1px solid #E0E0E0; border-radius: 0; font-family: inherit; background: #fff; transition: 0.3s; }
        .form-group input:focus, .form-group textarea:focus { outline: none; border-color: var(--primary-gold); box-shadow: 0 0 10px rgba(212, 175, 55, 0.1); }
        /* 讓 button 標籤繼承所有 .btn 的設定，並移除瀏覽器預設的邊框 */
        button.btn {
            display: inline-block;    /* 確保寬度行為一致 */
            font-family: inherit;     /* 繼承字體 */
            border: none;             /* 移除 button 預設的黑邊框 */
            text-decoration: none;    /* 移除底線 */
            cursor: pointer;          /* 鼠標變成手指 */
        }
        
        /* 針對聯絡我頁面的特殊需求：讓它變寬 */
        .submit-btn {
            width: 100%;
            margin-top: 10px;
        }
        #success-msg { display: none; text-align: center; padding: 40px; color: var(--deep-teal); }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">靈境芳療</div>
            <ul>
                <li><a href="index.html">首頁</a></li>
                <li><a href="about.html">關於我</a></li>
                <li><a href="services.html">服務項目</a></li>
                <li><a href="testimonials.html">客戶見證</a></li>
                <li><a href="contact.html">聯絡我</a></li>
            </ul>
        </nav>
    </header>

    <section class="section">
        <h1 data-aos="fade-down" style="font-family: 'Cinzel', serif; color: var(--primary-gold); letter-spacing: 2px;">Connect With Us</h1>
        <p data-aos="fade-up" style="color: var(--deep-teal);">如果您對療程有任何疑問，或想預約專屬時段，歡迎在此留下您的訊息。</p>

        <div class="contact-wrapper">
            <div class="contact-info" data-aos="fade-right" data-aos-delay="200">
                <h3>Contact Info</h3>
                <p><strong>能量場域：</strong> 台北市松山區（預約制）</p>
                <p><strong>電子信箱：</strong> niuniu@sacredaroma.com</p>
                <p><strong>Line 聯繫：</strong> @aroma_healer</p>
                <p><strong>靜心時間：</strong> 週四、週日 10:00 - 20:00</p>
                
                <div style="margin-top: 40px; padding: 20px; background: rgba(212, 175, 55, 0.05); border: 1px dashed var(--primary-gold);">
                    <p style="font-size: 0.9rem; color: #555; margin: 0;">
                        <em>* 溫馨提醒：請優先利用下方表單留言，我會儘速回覆您。</em>
                    </p>
                </div>
            </div>

            <div class="contact-form" data-aos="fade-left" data-aos-delay="400">
                <form id="contact-supabase-form">
                    <div class="form-group">
                        <label for="name">您的稱呼 (Name)</label>
                        <input type="text" id="name" required placeholder="請輸入您的姓名">
                    </div>
                    <div class="form-group">
                        <label for="phone">聯絡電話 (Phone)</label>
                        <input type="tel" id="phone" required placeholder="請輸入您的手機號碼">
                    </div>
                    <div class="form-group">
                        <label for="email">電子信箱 (Email / Line ID)</label>
                        <input type="text" id="email" placeholder="方便回覆您的聯絡方式">
                    </div>
                    <div class="form-group">
                        <label for="service">感興趣的療程項目</label>
                        <select id="service">
                            <option value="脈輪平衡按摩">脈輪平衡按摩療程 (60 mins)</option>
                            <option value="個性化靈境諮詢">個性化靈境諮詢 (30 mins)</option>
                            <option value="其他需求">其他需求詢問</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">您的訊息 (Message)</label>
                        <textarea id="message" rows="5" placeholder="請告訴我您的需求或預計想預約的時間..."></textarea>
                    </div>
                    <button type="submit" id="submit-button" class="btn submit-btn">傳送預約訊息</button>
                </form>

                <div id="success-msg">
                    <h3 style="font-family: 'Cinzel', serif; color: var(--primary-gold);">◈ 訊息已傳遞 ◈</h3>
                    <p>請靜心等待，我們將透過香氛的指引與您聯繫。</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div style="font-family: 'Cinzel', serif; letter-spacing: 2px; margin-bottom: 10px;">The Soul's Sanctuary</div>
        <p>&copy; 2026 靈境芳療 | Sacred Mandala Aromatherapy. All rights reserved.</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });

        // 請務必填入你的 Supabase 資料
        const SUPABASE_URL = 'https://wkfbnqxklmngflgmgdwk.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_7ELYycfUE6mSVQufsJwQlQ_58hFGc2t'; 

        const contactForm = document.getElementById('contact-supabase-form');
        const successMsg = document.getElementById('success-msg');
        const submitBtn = document.getElementById('submit-button');

        if(contactForm) {
            contactForm.addEventListener('submit', async function(event) {
                event.preventDefault();
                
                submitBtn.innerText = "能量傳送中...";
                submitBtn.disabled = true;

                const formData = {
                    user_name: document.getElementById('name').value,
                    user_phone: document.getElementById('phone').value,
                    user_email: document.getElementById('email').value,
                    subject: document.getElementById('service').value,
                    message: document.getElementById('message').value
                };

                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/Customer%20data`, {
                        method: 'POST',
                        headers: {
                            'apikey': SUPABASE_KEY,
                            'Authorization': `Bearer ${SUPABASE_KEY}`,
                            'Content-Type': 'application/json',
                            'Prefer': 'return=minimal'
                        },
                        body: JSON.stringify(formData)
                    });

                    if (response.ok) {
                        contactForm.style.display = 'none';
                        successMsg.style.display = 'block';
                    } else {
                        throw new Error('Supabase Error');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('傳送失敗，請稍後再試或透過 Line 聯繫。');
                    submitBtn.innerText = "重新傳送";
                    submitBtn.disabled = false;
                }
            });
        }
    </script>
</body>
</html>








